---
title: MySQL中varchar类型长度设置为多少合适
date: 2023-10-11 16:12:33
tags:
  - MySQL
  - varchar
categories:
  - 技术
  - 数据库
  - MySQL
---
# varchar类型长度常见设置

经常会看到大家设置varchar类型长度，一般都设置为255，那为什么不是其他数字呢？<br>
以下针对我们常用的*innodb*存储引擎。

# varchar(255)和varchar(256)区别
varchar(255)需要1个字节记录字符串长度，而varchar(256)则需要2个字节记录字符串长度。  
因此varchar(255)和varchar(256)，优先选择varchar(255)。

# varchar(64)和varchar(255)区别
1. 对于字符串长度超过64的，varchar(64)的sql会报错  
2. 对于字符串长度不超过64的，两者在磁盘存储上没有区别
    1. 都是1个字节记录字符串长度
    2. 由于innodb将varchar类型数据独立于聚簇索引单独存储，占用空间取决于实际字符串长度

所以如果字段长度不超过64，那么使用varchar(255)也没问题，但是如果该字段建**索引**了，那就不一样了：
建立索引时如果没有限制索引的大小，索引长度会默认采用的该字段类型的长度，因此用varchar(255)类型会占用更多的空间，加载索引信息时也会占用更多的内存，索引性能相对来说会较差。

# 结论
因此当我们设置varchar长度时，如果该字段确定不会拿来做索引，可以设置稍微长一点，比如varchar(255)，这样字段长度会更灵活一些；如果该字段有可能会被拿来做索引，那么就按需尽量设置的小一点，这样索引会有更好的性能。